<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Litterbox Portal Enhanced</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .spin {
      border: 3px solid rgba(255,255,255,0.3);
      border-top: 3px solid #fbbf24;
      border-radius: 50%;
      width: 28px; height: 28px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .tab-btn.active {
      background-color: #fbbf24;
      color: #fff !important;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-amber-100 via-white to-amber-200 min-h-screen flex flex-col items-center">
  <!-- Header -->
  <header class="w-full bg-amber-400 text-white py-5 shadow-lg flex items-center justify-center text-3xl font-bold tracking-wide">
    üêæ Litterbox Portal
  </header>

  <!-- Tabs -->
  <div class="flex mt-6 gap-3">
    <button class="tab-btn px-5 py-2 text-lg rounded-t-lg transition font-semibold bg-white shadow hover:bg-amber-100 active" onclick="showTab(0)">Browse</button>
    <button class="tab-btn px-5 py-2 text-lg rounded-t-lg transition font-semibold bg-white shadow hover:bg-amber-100" onclick="showTab(1)">Bing Videos</button>
    <button class="tab-btn px-5 py-2 text-lg rounded-t-lg transition font-semibold bg-white shadow hover:bg-amber-100" onclick="showTab(2)">Developer</button>
    <button class="tab-btn px-5 py-2 text-lg rounded-t-lg transition font-semibold bg-white shadow hover:bg-amber-100" onclick="showTab(3)">About</button>
  </div>

  <!-- Tab Panels -->
  <div id="tabsContainer" class="w-full max-w-4xl bg-white rounded-lg shadow-xl mt-0 p-6 flex flex-col gap-4 flex-grow">
    <!-- Browse Tab -->
    <div class="tab-panel flex flex-col gap-3" style="display:block;">
      <div class="flex gap-2 mb-2">
        <button id="backBtn" class="bg-gray-300 hover:bg-amber-400 hover:text-white px-3 py-2 rounded-lg shadow transition">‚óÄ</button>
        <button id="forwardBtn" class="bg-gray-300 hover:bg-amber-400 hover:text-white px-3 py-2 rounded-lg shadow transition">‚ñ∂</button>
        <button id="refreshBtn" class="bg-gray-300 hover:bg-amber-400 hover:text-white px-3 py-2 rounded-lg shadow transition">‚ü≥</button>
        <form id="searchForm" class="flex-grow flex gap-2">
          <input type="text" id="urlInput" placeholder="Enter a website (example.com)" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 shadow-inner" required>
          <button type="submit" class="bg-amber-400 hover:bg-amber-500 text-white px-4 py-2 rounded-lg transition shadow">Go</button>
        </form>
        <button id="bingVidBtn" type="button" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 ml-2 rounded-lg shadow transition" onclick="showTab(1)">üé¨ Bing Videos</button>
      </div>
      <div id="loading" class="hidden flex flex-col items-center mt-10 text-gray-600">
        <div class="spin mb-2"></div>
        <p>Loading your site...</p>
      </div>
      <iframe id="preview" src="about:blank" class="w-full h-[55vh] min-h-[360px] bg-white border-2 border-amber-100 rounded-2xl shadow-md transition"></iframe>
    </div>
    <!-- Bing Videos Tab -->
    <div class="tab-panel flex-col gap-3" style="display:none;">
      <iframe id="bingVideosFrame" src="https://www.bing.com/videos" class="w-full h-[55vh] min-h-[360px] bg-white border rounded-xl shadow"></iframe>
    </div>
    <!-- Developer Tab -->
    <div class="tab-panel flex-col gap-3" style="display:none;">
      <div class="bg-gray-900 text-amber-200 p-6 rounded-xl shadow">
        <div class="font-bold text-lg mb-2">Developer JavaScript Console</div>
        <div class="flex gap-2">
          <input id="devInput" type="text" class="flex-grow px-3 py-1 rounded bg-gray-700 text-amber-100 border border-gray-800 focus:outline-amber-400" placeholder="Type JS code (e.g. 2+2)">
          <button onclick="runDevCode()" class="bg-amber-400 hover:bg-amber-500 text-white px-3 py-1 rounded transition">Run</button>
        </div>
        <div id="devLog" class="mt-4 text-green-300 min-h-[24px] font-mono">Output will appear here.</div>
      </div>
    </div>
    <!-- About Tab -->
    <div class="tab-panel flex flex-col gap-2" style="display:none; min-height:300px;">
      <h2 class="font-bold text-xl text-amber-600">üêæ About Litterbox Portal</h2>
      <p class="text-gray-700">Welcome, <strong>Connor Kwartnik</strong> at Maple Point Middle School!</p>
      <ul class="list-disc pl-6 text-gray-600">
        <li>Lightning fast web navigation with history and refresh</li>
        <li>Slick Bing Videos viewer</li>
        <li>Built-in JavaScript developer console for quick experiments</li>
        <li>Dark and light modes, modern responsive layout</li>
        <li>Amazing animated buttons and beautiful interface</li>
      </ul>
      <p class="mt-2 text-xs opacity-70">Clever integration and feature ideas by request!</p>
    </div>
  </div>

  <script>
    // Tab logic
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabPanels = document.querySelectorAll('.tab-panel');
    function showTab(idx) {
      tabBtns.forEach((btn, i) => btn.classList.toggle('active', i === idx));
      tabPanels.forEach((panel, i) => panel.style.display = i === idx ? 'flex' : 'none');
    }
    // Browse tab logic
    const form = document.getElementById('searchForm');
    const input = document.getElementById('urlInput');
    const frame = document.getElementById('preview');
    const loading = document.getElementById('loading');
    const backBtn = document.getElementById('backBtn');
    const forwardBtn = document.getElementById('forwardBtn');
    const refreshBtn = document.getElementById('refreshBtn');
    let historyStack = [];
    let currentIndex = -1;
    function showLoading() { loading.classList.remove('hidden'); }
    function hideLoading() { loading.classList.add('hidden'); }
    function navigateTo(url) {
      showLoading();
      frame.src = url;
      frame.onload = hideLoading;
    }
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      let baseUrl = input.value.trim();
      if (!/^https?:\/\//i.test(baseUrl)) {
        baseUrl = 'https://' + baseUrl;
      }
      historyStack = historyStack.slice(0, currentIndex + 1);
      historyStack.push(baseUrl);
      currentIndex++;
      navigateTo(baseUrl);
    });
    backBtn.addEventListener('click', () => {
      if (currentIndex > 0) {
        currentIndex--;
        navigateTo(historyStack[currentIndex]);
      }
    });
    forwardBtn.addEventListener('click', () => {
      if (currentIndex < historyStack.length - 1) {
        currentIndex++;
        navigateTo(historyStack[currentIndex]);
      }
    });
    refreshBtn.addEventListener('click', () => {
      if (currentIndex >= 0) {
        navigateTo(historyStack[currentIndex]);
      }
    });
    // Dev tools console
    function runDevCode() {
      const code = document.getElementById('devInput').value;
      let out = '';
      try { out = String(eval(code)); } catch(e) { out = 'Error: ' + e.message; }
      document.getElementById('devLog').textContent = out;
    }
  </script>
</body>
</html>

